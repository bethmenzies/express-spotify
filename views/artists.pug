extends layout

block content
  h1= title

  p The current number of artists is: !{artist_count}
  a(href='/artists/add?watchlist=' + watchlist) Add Artist

  if artist_list.length
    table(border='1')
      tr 
        th Artist 
        th Artist Run
        th Delete?
        th Update Related Artists
      each artist in artist_list
        - var relatedArtistNames = ""
        tr
          each related_artist in artist.related_artists
            - relatedArtistNames += ' - ' + related_artist.name + '\n'
          if artist.related_artists.length
            td #{artist.name}: #[br] #{relatedArtistNames}
          else 
            td #{artist.name}
          td #[a( href='/artists'+artist.url+'/run' ) Run]
          td #[a( href='/artists'+artist.url+'/delete?watchlist=' + watchlist ) Delete]
          td #[a( href='/artists'+artist.url+'/edit?watchlist=' + watchlist) Update]
  else
    p There are no artists.
